(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(43)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"ACTION_LOADING_FIRST_PAGE",function(){return O}),n.d(a,"ACTION_ERROR_PAGE",function(){return g}),n.d(a,"ACTION_ON_PLAY_THIS_VIDEO",function(){return N}),n.d(a,"ACTION_SEARCH_VIDEO",function(){return C}),n.d(a,"ACTION_NOT_FOUND_VIDEO",function(){return j}),n.d(a,"ACTION_CHANGE_LABEL",function(){return k}),n.d(a,"ACTION_LOADIN_SPINNER",function(){return I}),n.d(a,"loadingFirstPage",function(){return w}),n.d(a,"loadingErrorPage",function(){return V}),n.d(a,"playThisVideo",function(){return x}),n.d(a,"searchVideoContent",function(){return A}),n.d(a,"notFoundVideoContent",function(){return _}),n.d(a,"onChangeInputLabel",function(){return D}),n.d(a,"loadingSpinner",function(){return T}),n.d(a,"searchVideos",function(){return S}),n.d(a,"getVideoListInfo",function(){return P}),n.d(a,"onPlayThisVideo",function(){return F});var r=n(0),i=n.n(r),c=n(19),o=n.n(c),s=(n(29),n(2)),u=n(3),l=n(5),m=n(4),p=n(6),d=(n(30),n(31),n(8)),h=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"transformDate",value:function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth(),r=t.getDate();return"".concat(r," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a]," ").concat(n)}},{key:"render",value:function(){var e=this.props,t=e.idMainVideo,n=e.infoMainVideo,a=n.title,r=n.viewCount,c=n.likeCount,o=n.dislikeCount,s=n.imageUrl,u=n.channelTitle,l=n.publishedAt,m=n.description,p=n.commentCount;return i.a.createElement("div",{className:"main-player"},i.a.createElement("div",{id:"video",className:"video"},i.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allowFullScreen:!0,title:"qwer"})),i.a.createElement("div",null,i.a.createElement("div",{className:"title"},i.a.createElement("div",{className:"title-video"},a),i.a.createElement("div",{className:"viewCount"},i.a.createElement("div",null," Views ",i.a.createElement("b",null," ",r," ")," "),i.a.createElement("div",null,"Like ",i.a.createElement("b",null,c)),i.a.createElement("div",null,"Dislike ",i.a.createElement("b",null,o)))),i.a.createElement("div",{className:"video-description"},i.a.createElement("img",{src:s,alt:u}),i.a.createElement("div",{className:"channel-title"},u),i.a.createElement("div",{className:"published-at"},"Published on ",this.transformDate(l)),i.a.createElement("div",{className:"description"},m),i.a.createElement("div",{className:"comment-count"},"Comments: ",p))))}}]),t}(r.Component),f=Object(d.b)(function(e){return e})(h),v=(n(36),n(1)),b=n.n(v),E=n(23),y=n(7),O="ACTION_LOADING_FIRST_PAGE",g="ACTION_ERROR_PAGE",N="ACTION_ON_PLAY_THIS_VIDEO",C="ACTION_SEARCH_VIDEO",j="ACTION_NOT_FOUND_VIDEO",k="ACTION_CHANGE_LABEL",I="ACTION_LOADIN_SPINNER",w=function(e){return{type:O,payload:e}},V=function(e){return{type:g,payload:e}},x=function(e){return{type:N,payload:e}},A=function(e){return{type:C,payload:e}},_=function(e){return{type:j,payload:e}},D=function(e){return{type:k,payload:e}},T=function(){return{type:I,payload:!0}},R=new(function(){function e(){Object(s.a)(this,e),this._apiBase="https://www.googleapis.com/youtube/v3/",this.apiKey="AIzaSyAiEW0F1_5qY_4SEzzZgiL3arhqy-JMHxo",this.urlSearch="search?part=snippet&key=".concat(this.apiKey,"&type=video&order=rating&maxResults=11&q="),this.urlRelated="search?part=snippet&key=".concat(this.apiKey,"&type=video&maxResults=10&relatedToVideoId="),this.urlComments="commentThreads?key=".concat(this.apiKey,"&textFormat=plainText&part=snippet&maxResults=10&videoId="),this.urlInfoMainVideo="videos?part=snippet,contentDetails,statistics&key=".concat(this.apiKey,"&id="),this._transformDataMainVideo=function(e){return e.map(function(e){return{id:e.id,title:e.snippet.title,description:e.snippet.description,channelTitle:e.snippet.channelTitle,imageUrl:e.snippet.thumbnails.default.url,channelId:e.snippet.channelId,publishedAt:e.snippet.publishedAt,viewCount:e.statistics.viewCount,likeCount:e.statistics.likeCount,dislikeCount:e.statistics.dislikeCount,commentCount:e.statistics.commentCount}})},this._transformDataVideo=function(e){return e.map(function(e){return{id:e.id.videoId,title:e.snippet.title,channelTitle:e.snippet.channelTitle,imageUrl:e.snippet.thumbnails.medium.url,channelId:e.snippet.channelId,publishedAt:e.snippet.publishedAt}})},this._transformDataComments=function(e){return e.map(function(e){return{idComment:e.id,idVideo:e.snippet.videoId,idAuthorChannel:e.snippet.topLevelComment.snippet.authorChannelId.value,commentBody:e.snippet.topLevelComment.snippet.textDisplay,authorDisplayName:e.snippet.topLevelComment.snippet.authorDisplayName,authorProfileImageUrl:e.snippet.topLevelComment.snippet.authorProfileImageUrl,publishedAt:e.snippet.topLevelComment.snippet.publishedAt}})}}return Object(u.a)(e,[{key:"getResourse",value:function(){var e=Object(y.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getArrVideos",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse(this.urlSearch);case 2:return t=e.sent,e.abrupt("return",t.items);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getIdVideos",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse(this.urlSearch);case 2:return t=e.sent,e.next=5,t.items;case 5:return n=e.sent,e.next=8,n.map(function(e){return e.id.videoId});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getSearchVideo",value:function(){var e=Object(y.a)(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse("".concat(this.urlSearch).concat(t));case 2:return n=e.sent,e.next=5,n.items;case 5:return a=e.sent,console.log(a),e.abrupt("return",this._transformDataVideo(a));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVideoListInfo",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse(this.urlSearch);case 2:return t=e.sent,e.next=5,t.items;case 5:return n=e.sent,e.abrupt("return",this._transformDataVideo(n));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getRelatedVideo",value:function(){var e=Object(y.a)(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse("".concat(this.urlRelated).concat(t));case 2:return n=e.sent,e.next=5,n.items;case 5:return a=e.sent,e.abrupt("return",this._transformDataVideo(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(y.a)(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse("".concat(this.urlComments).concat(t));case 2:return n=e.sent,e.next=5,n.items;case 5:return a=e.sent,e.abrupt("return",this._transformDataComments(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getInfoMainVideo",value:function(){var e=Object(y.a)(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResourse("".concat(this.urlInfoMainVideo).concat(t));case 2:return n=e.sent,a=n.items,e.abrupt("return",this._transformDataMainVideo(a));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),M=function(e){return R.getInfoMainVideo(e)},L=function(e){return R.getComments(e)},S=function(e){return function(){var t=Object(y.a)(b.a.mark(function t(n){var a,r,i,c,o,s,u,l,m,p,d;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getSearchVideo(e);case 3:if(!(a=t.sent).length){t.next=15;break}return r=Object(E.a)(a),i=r[0],c=i.id,o=i.title,s=i.channelTitle,u=i.imgUrl,l=i.publishedAt,m=r.slice(1),t.next=8,L(c);case 8:return p=t.sent,t.next=11,M(c);case 11:d=t.sent,n(A({comments:p,videoList:m,idMainVideo:c,infoMainVideo:d[0],titleMainVideo:o,channelTitleMainVideo:s,imgUrlMainVideo:u,publishedAt:l,loading:!1,searchResult:!1})),t.next=16;break;case 15:n(_({searchResult:!0}));case 16:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),n(V({error:!0,loading:!1}));case 22:case"end":return t.stop()}},t,null,[[0,19]])}));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(y.a)(b.a.mark(function t(n){var a,r,i;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:return a=t.sent,t.next=6,L(e);case 6:return r=t.sent,t.next=9,R.getRelatedVideo(e);case 9:i=t.sent,n(w({comments:r,infoMainVideo:a[0],videoList:i,loading:!1,searchResult:!1})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(V({error:!0,loading:!1}));case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(y.a)(b.a.mark(function t(n){var a,r,i;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(T()),t.next=4,L(e);case 4:return a=t.sent,t.next=7,M(e);case 7:return r=t.sent,t.next=10,R.getRelatedVideo(e);case 10:i=t.sent,n(x({comments:a,videoList:i,idMainVideo:e,infoMainVideo:r[0],loading:!1,searchResult:!1})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(V({error:!0,loading:!1}));case 17:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()},U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLabelChange=function(e){n.props.onChangeInputLabel(e.target.value)},n.onSubmit=function(e){e.preventDefault();var t=n.props.label.split(" ").join("+");t.length&&(n.props.onChangeInputLabel(""),n.props.searchVideos(t))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.label;return i.a.createElement("form",{className:"form-search ",onSubmit:this.onSubmit},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:this.onLabelChange,value:e}),i.a.createElement("button",{type:"submit",className:"btn-default"},i.a.createElement("span",{className:"input-group-addon"}," ",i.a.createElement("i",{className:"fa fa-search"})," "))))}}]),t}(r.Component),B=Object(d.b)(function(e){return{label:e.label}},a)(U),G=(n(39),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"truncate",value:function(e,t){return e.length>t?e.slice(0,t-3)+"...":e}},{key:"render",value:function(){var e=this,t=this.props,n=t.videoList,a=t.onPlayThisVideo,r=n.map(function(t){var n=t.id,r=t.title,c=t.channelTitle,o=t.imageUrl;return i.a.createElement("li",{id:n,key:n,className:"list-group-item"},i.a.createElement("div",{className:"img-video",onClick:function(){return a(n)}},i.a.createElement("img",{src:o,alt:r})),i.a.createElement("div",{className:"name-video",onClick:function(){return a(n)}},i.a.createElement("h3",null,e.truncate(r,55))),i.a.createElement("div",{className:"name-channel",onClick:function(){return a(n)}},c))});return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("ul",{className:"list-group"},r)))}}]),t}(r.Component)),H=Object(d.b)(function(e){return e},a)(G),J=(n(40),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"formatDate",value:function(e){var t=(new Date-new Date(e))/1e3;return t<3600?Math.floor(t/60)+" minutes ago":t<86400?Math.floor(t/3600)+" hours ago":t<2592e3?Math.floor(t/86400)+" days ago":t<31104e3?Math.floor(t/2592e3)+" months ago":"more than a year ago"}},{key:"render",value:function(){var e=this,t=this.props.comments,n=null;return t.length&&(n=t.map(function(t){var n=t.idComment,a=t.idAuthorChannel,r=t.commentBody,c=t.authorDisplayName,o=t.authorProfileImageUrl,s=t.publishedAt;return i.a.createElement("div",{key:n,className:"comment"},i.a.createElement("img",{src:o,alt:c}),i.a.createElement("p",{className:"comment-author",name:a},c,i.a.createElement("span",{name:"date",className:"comment-published-at"},e.formatDate(s))),i.a.createElement("p",{name:"commentBody",className:"comment-body"},r))})),i.a.createElement("div",null,n)}}]),t}(r.Component)),K=Object(d.b)(function(e){return{comments:e.comments}})(J),q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"not-found"},i.a.createElement("h1",null,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"),i.a.createElement("p",null,"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0456\u043d\u0448\u0456 \u043a\u043b\u044e\u0447\u043e\u0432\u0456 \u0441\u043b\u043e\u0432\u0430"))}}]),t}(r.Component);n(41);function Y(){return i.a.createElement("div",{className:"lds-css ng-scope"},i.a.createElement("div",{className:"lds-spinner"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}n(42);var z=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"error"},i.a.createElement("h1",null,"Error!"),i.a.createElement("h3",null,"Something went wrong!"))}}]),t}(r.Component),W=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getVideoListInfo(this.props.idMainVideo)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.searchResult,a=e.error,r=t?i.a.createElement(Y,null):null,c=n?i.a.createElement(q,null):null,o=a?i.a.createElement(z,null):null,s=t||a?null:i.a.createElement(f,null),u=t||a?null:i.a.createElement(H,null),l=t||a?null:i.a.createElement(K,null);return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"search"},i.a.createElement(B,null)),i.a.createElement("div",{className:"search-result"},c),i.a.createElement("div",{className:"error-block"},o),i.a.createElement("div",null,r),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:"mainVideo"},s),i.a.createElement("div",{className:"videosList"},u),i.a.createElement("div",{className:"comments"},l))))}}]),t}(r.Component),X=Object(d.b)(function(e){return e},a)(W),Z=n(11),Q=n(21),$=n(22),ee=n(9),te={comments:!1,videoList:!1,idMainVideo:"ppOFiX-T_yM",infoMainVideo:null,titleMainVideo:"",channelTitleMainVideo:"",imgUrlMainVideo:"",publishedAt:"",loading:!0,searchResult:!1,error:!1,label:""},ne=Object(Z.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case g:case N:case C:case j:return Object(ee.a)({},e,t.payload);case k:return Object(ee.a)({},e,{label:t.payload});case I:return Object(ee.a)({},e,{loading:t.payload});default:return e}},Object(Q.composeWithDevTools)(Object(Z.applyMiddleware)($.a)));o.a.render(i.a.createElement(d.a,{store:ne},i.a.createElement(X,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.50b1bca1.chunk.js.map